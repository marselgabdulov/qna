$('#new-comment-<%= "#{@commentable.class.name.downcase}-#{@commentable.id}" %>-errors').html('<%= render 'shared/errors', resource: @comment %>');

<% if @comment.persisted? %>
  $('#<%= "#{@commentable.class.name.downcase}-#{@commentable.id}" %>-comments').append('<%= j render @comment %>');
  $('#new-comment-<%= "#{@commentable.class.name.downcase}-#{@commentable.id}" %>')[0].reset();
  $('#new-comment-<%= "#{@commentable.class.name.downcase}-#{@commentable.id}" %>').hide();
  $('.<%= "#{@commentable.class.name.downcase}" %>-add-comment-link .add-comment-link').show();
<% end %>
